---
title: How to make a deck of cards in R
author: Ben Woodard
date: '2019-05-01'
slug: deck_of_cards_in_r
categories:
  - R
tags:
  - fun with r
  - example
---



<p>I want to make a deck of cards. Here is how I do it.</p>
<p>First we need to understand the elements of the deck of cards.
There are 4 different suits, 13 different values, and 13 different faces.</p>
<ol style="list-style-type: decimal">
<li><p>Make the suits in order by naming the four suits and listing them 13 times so that all 3 lists are the same length.</p></li>
<li><p>Make the faces by listing out all 13 and we can duplicate it from there.</p></li>
</ol>
<pre class="r"><code>faces &lt;- c(&#39;king&#39;, &#39;queen&#39;, &#39;jack&#39;, &#39;ten&#39;, &#39;nine&#39;, &#39;eight&#39;, &#39;seven&#39;, &#39;six&#39;, &#39;five&#39;, &#39;four&#39;, &#39;three&#39;, &#39;two&#39;, &#39;ace&#39;)
face &lt;- rep(faces, 4)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Make the values of the cards by listing out the values and then duplicating that 4xs</li>
</ol>
<pre class="r"><code>value &lt;- rep(13:1, 4)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Make the deck by combining the 3 different lists.</li>
</ol>
<pre class="r"><code>deck &lt;- data.frame(face, suit, value)
tail(deck)</code></pre>
<pre><code>##     face   suit value
## 47   six hearts     6
## 48  five hearts     5
## 49  four hearts     4
## 50 three hearts     3
## 51   two hearts     2
## 52   ace hearts     1</code></pre>
<div id="now-we-need-to-create-the-deal-function" class="section level2">
<h2>Now we need to create the deal function</h2>
<pre class="r"><code>deal &lt;- function(x) {
  sample_n(deck, x, replace = F)
}

hand&lt;-deal(7)</code></pre>
</div>
<div id="lets-play-a-game-of-blackjack" class="section level2">
<h2>Let’s play a game of blackjack</h2>
<p>The biggest problem we are going to have is dealing cards from a single deck witout having it reshuffle using another function call. The remaining items in the deck must be saved as the new deck.</p>
<p>We will need to remove the items from the dealers hand and save it as a list item. Then we need to deal out the 2 cards for the player. If the user wants another card then he will need to ask for a new card while supplying the dealer hand and the user hand so that these rows are not included in the deck when asked.</p>
<p>Let’s edit the deal function to return all 3 elements if needed.</p>
<pre class="r"><code>deal &lt;- function(x, set = NULL){
  hand &lt;- set$myhand
  dealerhand &lt;- set$dealerhand
  myhand = list()
  #remove the existing hand from the deck if it is included
  if(!is.null(hand)) {
    deck &lt;- deck %&gt;% anti_join(hand)
  }
  #remove the existing dealer&#39;s hand from the deck if it is included
  if(!is.null(dealerhand)) {
    deck &lt;- deck %&gt;% anti_join(dealerhand)
  }
  #if there is not dealer hand included then we need to get him 2 cards
  if(is.null(dealerhand)) {
    dealerhand &lt;- sample_n(deck, 2, replace = F)
    #once this is done we need to remove those 2 cards from the deck
    deck &lt;- deck %&gt;% anti_join(dealerhand)
  }
  #the new cards need to be drawn from the deck
  newhand &lt;- sample_n(deck, x, replace = F)
  #if the hand is not null then 
  if(!is.null(hand)) {
          myhand &lt;- rbind(hand, newhand) 
        } else {
          myhand &lt;- newhand
          }
  hand &lt;- list(myhand = myhand, dealerhand = dealerhand)
  return(hand)
  
}

#Deal the cards and get your set
set &lt;- deal(2)</code></pre>
<pre><code>## Joining, by = c(&quot;face&quot;, &quot;suit&quot;, &quot;value&quot;)</code></pre>
<pre class="r"><code>set$myhand</code></pre>
<pre><code>##    face     suit value
## 1 seven   spades     7
## 2  jack diamonds    11</code></pre>
<pre class="r"><code>set$dealerhand</code></pre>
<pre><code>##   face   suit value
## 1 four spades     4
## 2 nine spades     9</code></pre>
<pre class="r"><code>#play on if you feel lucky!
set &lt;- deal(1, set)</code></pre>
<pre><code>## Joining, by = c(&quot;face&quot;, &quot;suit&quot;, &quot;value&quot;)
## Joining, by = c(&quot;face&quot;, &quot;suit&quot;, &quot;value&quot;)</code></pre>
<pre class="r"><code>set$myhand</code></pre>
<pre><code>##    face     suit value
## 1 seven   spades     7
## 2  jack diamonds    11
## 3  king diamonds    13</code></pre>
<pre class="r"><code>set$dealerhand</code></pre>
<pre><code>##   face   suit value
## 1 four spades     4
## 2 nine spades     9</code></pre>
</div>
